@model COLAFHotel.Models.Booking
@{
    ViewBag.Title = "Booking Details";
}

<div class="flex justify-center items-center min-h-screen bg-gradient-to-br from-gray-200 to-gray-400 p-10">
    <div class="bg-white shadow-2xl rounded-3xl overflow-hidden w-full max-w-4xl">

        <!-- Room Image -->
        <div class="relative">
            <img src="@Url.Content(Model.Room.ImageUrl)" alt="Room Image"
                 class="w-full h-80 object-cover">
            <div class="absolute bottom-4 left-4 bg-white bg-opacity-80 px-4 py-2 rounded-lg shadow">
                <p class="text-gray-800 font-semibold text-lg">Room R.@Model.Room.RoomNumber</p>
            </div>
        </div>

        <!-- Booking Details -->
        <div class="p-10">
            <h2 class="text-3xl font-bold text-[var(--primary-color)] text-center mb-6">
                Booking Details
            </h2>

            <div class="grid grid-cols-2 gap-6">
                <div class="space-y-4">
                    <div class="flex justify-between items-center">
                        <p class="text-gray-600 text-lg font-semibold">Booking ID:</p>
                        <p class="text-gray-900 font-medium">#@Model.booking_id</p>
                    </div>

                    <div class="flex justify-between items-center">
                        <p class="text-gray-600 text-lg font-semibold">Guest Name:</p>
                        <p class="text-gray-900 font-medium">@Model.Guest.User.lastname, @Model.Guest.User.firstname</p>
                    </div>

                    <div class="flex justify-between items-center">
                        <p class="text-gray-600 text-lg font-semibold">Email:</p>
                        <p class="text-gray-900 font-medium">@Model.Guest.User.email</p>
                    </div>
                </div>

                <div class="space-y-4">
                    <div class="flex justify-between items-center">
                        <p class="text-gray-600 text-lg font-semibold">Check-In:</p>
                        <p class="text-gray-900 font-medium">@Model.check_in_date.ToShortDateString()</p>
                    </div>

                    <div class="flex justify-between items-center">
                        <p class="text-gray-600 text-lg font-semibold">Check-Out:</p>
                        <p class="text-gray-900 font-medium">@Model.check_out_date.ToShortDateString()</p>
                    </div>

                    <!-- Status Badge -->
                    <div class="flex justify-between items-center">
                        <p class="text-gray-600 text-lg font-semibold">Status:</p>
                        <span class="px-4 py-2 rounded-full text-white font-semibold
                                     @(Model.status == "Confirmed" ? "bg-green-500" : "bg-yellow-500")">
                            @Model.status
                        </span>
                    </div>
                </div>
            </div>

            <!-- Update Booking Form -->
            <div class="mt-8">
                <h3 class="text-2xl font-semibold text-center mb-4">Modify Booking Dates</h3>
                <form method="post" asp-action="UpdateBookingDates" asp-route-id="@Model.booking_id" class="space-y-4">
                    <div class="flex justify-between items-center">
                        <label for="check_in_date" class="text-gray-600 text-lg font-semibold">New Check-In Date:</label>
                        <input type="date" id="check_in_date" name="check_in_date" class="text-gray-900 font-medium p-2 rounded-lg border border-gray-300"
                               value="@Model.check_in_date.ToString("yyyy-MM-dd")" required />
                    </div>

                    <div class="flex justify-between items-center">
                        <label for="check_out_date" class="text-gray-600 text-lg font-semibold">New Check-Out Date:</label>
                        <input type="date" id="check_out_date" name="check_out_date" class="text-gray-900 font-medium p-2 rounded-lg border border-gray-300"
                               value="@Model.check_out_date.ToString("yyyy-MM-dd")" required />
                    </div>

                    <!-- Actions -->
                    <div class="mt-8 flex justify-center">
                        <button type="submit" class="px-6 py-3 bg-[var(--primary-color)] text-black font-bold rounded-lg shadow-md transition duration-200 hover:bg-opacity-80">
                            Update Booking Dates
                        </button>
                        <a asp-action="Index" class="px-6 py-3 bg-[var(--primary-color)] text-black font-bold
                                      rounded-lg shadow-md transition duration-200 hover:bg-opacity-80">
                            Back to List
                        </a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
