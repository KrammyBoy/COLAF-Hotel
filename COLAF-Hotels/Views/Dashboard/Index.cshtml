@{
    ViewBag.Title = "Home";
}
@inject IHttpContextAccessor HttpContextAccessor
@model IEnumerable<COLAFHotel.Models.User>

@{
    var user = HttpContextAccessor.HttpContext?.Session.GetString("User");
    var role = HttpContextAccessor.HttpContext?.Session.GetString("Role");
}
<div class="shadow-lg pt-[7rem]">
    @if (!string.IsNullOrEmpty(role))
    {
        @if (role == "Guest")
        {   
            @await Html.PartialAsync("Pages/_GuestDashboard", Model)
        }
        else if (role == "Admin")
        {
            @await Html.PartialAsync("Pages/_AdminDashboard", Model)
        }
    }
    else
    {
        <p class="text-red-500 font-semibold">Access Denied: Role not defined.</p>
        <script>
            setTimeout(function () {
                window.location.href = "/User/Login"; // Redirect to login page after 3 seconds
            }, 100);
        </script>
    }
</div>